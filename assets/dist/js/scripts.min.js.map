{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/src/js/app.js","assets/src/js/eqHeight.js","assets/src/js/img.js"],"names":[],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var eqHeight = require('./eqHeight');\nvar img = require('./img');\n\n$( document ).ready( function(){\n\n  var initEqHeight = (function(){\n    if( $(window).width() < 768 ) return;\n    // eqHeight( '.js-eqHeight--featured', function(){\n    //   $( '.js-eqHeight--featured' ).addClass( 'post--loaded' );\n    // } );\n    eqHeight( '.js-eqHeight--roll', function(){\n      $( '.js-eqHeight--roll' ).addClass( 'post--loaded' );\n    } );\n    eqHeight( '.js-eqHeight--bucket'  );\n  })();\n\n  $(window).resize( initEqHeight );\n\n  var toggleNav = function( target ){\n    $( target ).toggleClass( target.slice(1) + '--expand' );\n  }\n\n  $( '.header-navToggle' ).click( function(){\n    toggleNav( '.header-navInner' );\n    toggleNav( '.header-navToggleButton' );\n    var label = $( '.header-navToggleLabel' );\n    label.text( label.text() === 'Menu' ? 'Close' : 'Menu' );\n  } );\n\n  $( '.researchMenu-toggle' ).click( function(){\n    toggleNav( '.researchMenu' );\n  } );\n\n  img( '.js-img' );\n\n} );\n","var eqHeight = function( target, cb ){\n  var height = 0;\n  var callback = cb || false;\n  var eq = function(){\n    height = 0;\n    $(target).css( 'height', '' );\n    $(target).each( function(){\n      var _height = $(this).height();\n\n      if( _height > height ) height = _height;\n\n      if( callback ) callback();\n    } );\n\n    $( target ).each( function(){\n      $(this).css( 'height', height );\n    } )\n  };\n\n  eq();\n  $( window ).resize( eq );\n\n}\n\nmodule.exports = eqHeight;\n","var img = function( className ){\n  var images = $( className );\n\n  var creditMarkup = function( info, className ){\n    var credit = '';\n    if( info.author && info.author.length ){\n      credit += '<span class=\"'+className+'\">Photo credit: ';\n      if( info.src.length ){\n        credit += '<a href=\"'+info.src+'\">'\n      }\n      credit += info.author;\n      if( info.src.length ){\n        credit += '</a>'\n      }\n      credit += '</span>';\n      return credit;\n    } else {\n      return '';\n    }\n  }\n\n  images.each( function( i ){\n    var image = $(this).attr( 'data-img' );\n    if( !image.length ) return;\n    $.get( '/wp-json/v1/images/'+image+'/feat_lg', function( data ){\n\n      $(this).attr( 'data-img', data.original );\n\n      if( typeof $(this).attr( 'data-showcredit' ) !== 'undefined' ){\n        $(this).append( creditMarkup( data.credit, 'respImg-credit' ) );\n      }\n\n      // opts for featherlight\n      // var opts = {\n      //   targetAttr: 'data-img',\n      //   afterContent: function(){\n      //     // can't pass captions through featherlight so we do this instead\n      //     $( '.img-caption' ).remove();\n      //     var lightbox = $( '.featherlight-content' );\n      //     var src = $( '.featherlight-image' ).attr( 'src' );\n      //     var caption = $( '[data-img=\"'+src+'\"]' ).attr( 'data-caption' ) || data.caption || false;\n      //     if( caption ){\n      //       var credit = '';\n      //       if( data.credit.author.length ){\n      //         credit = creditMarkup( data.credit, 'img-credit' );\n      //       }\n      //       lightbox.append( '<div class=\"img-caption\">'+caption+credit+'</div>' );\n      //     }\n      //     //prevent body scrolling\n      //     $( 'body' ).css( 'overflow', 'hidden' );\n      //   },\n      //   afterClose: function(){\n      //     //restore body scrolling\n      //     $( 'body' ).css( 'overflow', '' );\n      //   }\n      // };\n      //\n      // $(this).featherlight( opts );\n\n    }.bind(this) );\n  } );\n\n}\n\nmodule.exports = img;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvc3JjL2pzL2FwcC5qcyIsImFzc2V0cy9zcmMvanMvZXFIZWlnaHQuanMiLCJhc3NldHMvc3JjL2pzL2ltZy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxXQUFXLFFBQVEsWUFBUixDQUFmO0FBQ0EsSUFBSSxNQUFNLFFBQVEsT0FBUixDQUFWOztBQUVBLEVBQUcsUUFBSCxFQUFjLEtBQWQsQ0FBcUIsWUFBVTs7QUFFN0IsTUFBSSxlQUFnQixZQUFVO0FBQzVCLFFBQUksRUFBRSxNQUFGLEVBQVUsS0FBVixLQUFvQixHQUF4QixFQUE4Qjs7QUFJOUIsYUFBVSxvQkFBVixFQUFnQyxZQUFVO0FBQ3hDLFFBQUcsb0JBQUgsRUFBMEIsUUFBMUIsQ0FBb0MsY0FBcEM7QUFDRCxLQUZEO0FBR0EsYUFBVSxzQkFBVjtBQUNELEdBVGtCLEVBQW5COztBQVdBLElBQUUsTUFBRixFQUFVLE1BQVYsQ0FBa0IsWUFBbEI7O0FBRUEsTUFBSSxZQUFZLFNBQVosU0FBWSxDQUFVLE1BQVYsRUFBa0I7QUFDaEMsTUFBRyxNQUFILEVBQVksV0FBWixDQUF5QixPQUFPLEtBQVAsQ0FBYSxDQUFiLElBQWtCLFVBQTNDO0FBQ0QsR0FGRDs7QUFJQSxJQUFHLG1CQUFILEVBQXlCLEtBQXpCLENBQWdDLFlBQVU7QUFDeEMsY0FBVyxrQkFBWDtBQUNBLGNBQVcseUJBQVg7QUFDQSxRQUFJLFFBQVEsRUFBRyx3QkFBSCxDQUFaO0FBQ0EsVUFBTSxJQUFOLENBQVksTUFBTSxJQUFOLE9BQWlCLE1BQWpCLEdBQTBCLE9BQTFCLEdBQW9DLE1BQWhEO0FBQ0QsR0FMRDs7QUFPQSxJQUFHLHNCQUFILEVBQTRCLEtBQTVCLENBQW1DLFlBQVU7QUFDM0MsY0FBVyxlQUFYO0FBQ0QsR0FGRDs7QUFJQSxNQUFLLFNBQUw7QUFFRCxDQWhDRDs7Ozs7QUNIQSxJQUFJLFdBQVcsU0FBWCxRQUFXLENBQVUsTUFBVixFQUFrQixFQUFsQixFQUFzQjtBQUNuQyxNQUFJLFNBQVMsQ0FBYjtBQUNBLE1BQUksV0FBVyxNQUFNLEtBQXJCO0FBQ0EsTUFBSSxLQUFLLFNBQUwsRUFBSyxHQUFVO0FBQ2pCLGFBQVMsQ0FBVDtBQUNBLE1BQUUsTUFBRixFQUFVLEdBQVYsQ0FBZSxRQUFmLEVBQXlCLEVBQXpCO0FBQ0EsTUFBRSxNQUFGLEVBQVUsSUFBVixDQUFnQixZQUFVO0FBQ3hCLFVBQUksVUFBVSxFQUFFLElBQUYsRUFBUSxNQUFSLEVBQWQ7O0FBRUEsVUFBSSxVQUFVLE1BQWQsRUFBdUIsU0FBUyxPQUFUOztBQUV2QixVQUFJLFFBQUosRUFBZTtBQUNoQixLQU5EOztBQVFBLE1BQUcsTUFBSCxFQUFZLElBQVosQ0FBa0IsWUFBVTtBQUMxQixRQUFFLElBQUYsRUFBUSxHQUFSLENBQWEsUUFBYixFQUF1QixNQUF2QjtBQUNELEtBRkQ7QUFHRCxHQWREOztBQWdCQTtBQUNBLElBQUcsTUFBSCxFQUFZLE1BQVosQ0FBb0IsRUFBcEI7QUFFRCxDQXRCRDs7QUF3QkEsT0FBTyxPQUFQLEdBQWlCLFFBQWpCOzs7OztBQ3hCQSxJQUFJLE1BQU0sU0FBTixHQUFNLENBQVUsU0FBVixFQUFxQjtBQUM3QixNQUFJLFNBQVMsRUFBRyxTQUFILENBQWI7O0FBRUEsTUFBSSxlQUFlLFNBQWYsWUFBZSxDQUFVLElBQVYsRUFBZ0IsU0FBaEIsRUFBMkI7QUFDNUMsUUFBSSxTQUFTLEVBQWI7QUFDQSxRQUFJLEtBQUssTUFBTCxJQUFlLEtBQUssTUFBTCxDQUFZLE1BQS9CLEVBQXVDO0FBQ3JDLGdCQUFVLGtCQUFnQixTQUFoQixHQUEwQixrQkFBcEM7QUFDQSxVQUFJLEtBQUssR0FBTCxDQUFTLE1BQWIsRUFBcUI7QUFDbkIsa0JBQVUsY0FBWSxLQUFLLEdBQWpCLEdBQXFCLElBQS9CO0FBQ0Q7QUFDRCxnQkFBVSxLQUFLLE1BQWY7QUFDQSxVQUFJLEtBQUssR0FBTCxDQUFTLE1BQWIsRUFBcUI7QUFDbkIsa0JBQVUsTUFBVjtBQUNEO0FBQ0QsZ0JBQVUsU0FBVjtBQUNBLGFBQU8sTUFBUDtBQUNELEtBWEQsTUFXTztBQUNMLGFBQU8sRUFBUDtBQUNEO0FBQ0YsR0FoQkQ7O0FBa0JBLFNBQU8sSUFBUCxDQUFhLFVBQVUsQ0FBVixFQUFhO0FBQ3hCLFFBQUksUUFBUSxFQUFFLElBQUYsRUFBUSxJQUFSLENBQWMsVUFBZCxDQUFaO0FBQ0EsUUFBSSxDQUFDLE1BQU0sTUFBWCxFQUFvQjtBQUNwQixNQUFFLEdBQUYsQ0FBTyx3QkFBc0IsS0FBdEIsR0FBNEIsVUFBbkMsRUFBK0MsVUFBVSxJQUFWLEVBQWdCOztBQUU3RCxRQUFFLElBQUYsRUFBUSxJQUFSLENBQWMsVUFBZCxFQUEwQixLQUFLLFFBQS9COztBQUVBLFVBQUksT0FBTyxFQUFFLElBQUYsRUFBUSxJQUFSLENBQWMsaUJBQWQsQ0FBUCxLQUE2QyxXQUFqRCxFQUE4RDtBQUM1RCxVQUFFLElBQUYsRUFBUSxNQUFSLENBQWdCLGFBQWMsS0FBSyxNQUFuQixFQUEyQixnQkFBM0IsQ0FBaEI7QUFDRDtBQTZCRixLQW5DOEMsQ0FtQzdDLElBbkM2QyxDQW1DeEMsSUFuQ3dDLENBQS9DO0FBb0NELEdBdkNEO0FBeUNELENBOUREOztBQWdFQSxPQUFPLE9BQVAsR0FBaUIsR0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGVxSGVpZ2h0ID0gcmVxdWlyZSgnLi9lcUhlaWdodCcpO1xudmFyIGltZyA9IHJlcXVpcmUoJy4vaW1nJyk7XG5cbiQoIGRvY3VtZW50ICkucmVhZHkoIGZ1bmN0aW9uKCl7XG5cbiAgdmFyIGluaXRFcUhlaWdodCA9IChmdW5jdGlvbigpe1xuICAgIGlmKCAkKHdpbmRvdykud2lkdGgoKSA8IDc2OCApIHJldHVybjtcbiAgICAvLyBlcUhlaWdodCggJy5qcy1lcUhlaWdodC0tZmVhdHVyZWQnLCBmdW5jdGlvbigpe1xuICAgIC8vICAgJCggJy5qcy1lcUhlaWdodC0tZmVhdHVyZWQnICkuYWRkQ2xhc3MoICdwb3N0LS1sb2FkZWQnICk7XG4gICAgLy8gfSApO1xuICAgIGVxSGVpZ2h0KCAnLmpzLWVxSGVpZ2h0LS1yb2xsJywgZnVuY3Rpb24oKXtcbiAgICAgICQoICcuanMtZXFIZWlnaHQtLXJvbGwnICkuYWRkQ2xhc3MoICdwb3N0LS1sb2FkZWQnICk7XG4gICAgfSApO1xuICAgIGVxSGVpZ2h0KCAnLmpzLWVxSGVpZ2h0LS1idWNrZXQnICApO1xuICB9KSgpO1xuXG4gICQod2luZG93KS5yZXNpemUoIGluaXRFcUhlaWdodCApO1xuXG4gIHZhciB0b2dnbGVOYXYgPSBmdW5jdGlvbiggdGFyZ2V0ICl7XG4gICAgJCggdGFyZ2V0ICkudG9nZ2xlQ2xhc3MoIHRhcmdldC5zbGljZSgxKSArICctLWV4cGFuZCcgKTtcbiAgfVxuXG4gICQoICcuaGVhZGVyLW5hdlRvZ2dsZScgKS5jbGljayggZnVuY3Rpb24oKXtcbiAgICB0b2dnbGVOYXYoICcuaGVhZGVyLW5hdklubmVyJyApO1xuICAgIHRvZ2dsZU5hdiggJy5oZWFkZXItbmF2VG9nZ2xlQnV0dG9uJyApO1xuICAgIHZhciBsYWJlbCA9ICQoICcuaGVhZGVyLW5hdlRvZ2dsZUxhYmVsJyApO1xuICAgIGxhYmVsLnRleHQoIGxhYmVsLnRleHQoKSA9PT0gJ01lbnUnID8gJ0Nsb3NlJyA6ICdNZW51JyApO1xuICB9ICk7XG5cbiAgJCggJy5yZXNlYXJjaE1lbnUtdG9nZ2xlJyApLmNsaWNrKCBmdW5jdGlvbigpe1xuICAgIHRvZ2dsZU5hdiggJy5yZXNlYXJjaE1lbnUnICk7XG4gIH0gKTtcblxuICBpbWcoICcuanMtaW1nJyApO1xuXG59ICk7XG4iLCJ2YXIgZXFIZWlnaHQgPSBmdW5jdGlvbiggdGFyZ2V0LCBjYiApe1xuICB2YXIgaGVpZ2h0ID0gMDtcbiAgdmFyIGNhbGxiYWNrID0gY2IgfHwgZmFsc2U7XG4gIHZhciBlcSA9IGZ1bmN0aW9uKCl7XG4gICAgaGVpZ2h0ID0gMDtcbiAgICAkKHRhcmdldCkuY3NzKCAnaGVpZ2h0JywgJycgKTtcbiAgICAkKHRhcmdldCkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgIHZhciBfaGVpZ2h0ID0gJCh0aGlzKS5oZWlnaHQoKTtcblxuICAgICAgaWYoIF9oZWlnaHQgPiBoZWlnaHQgKSBoZWlnaHQgPSBfaGVpZ2h0O1xuXG4gICAgICBpZiggY2FsbGJhY2sgKSBjYWxsYmFjaygpO1xuICAgIH0gKTtcblxuICAgICQoIHRhcmdldCApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAkKHRoaXMpLmNzcyggJ2hlaWdodCcsIGhlaWdodCApO1xuICAgIH0gKVxuICB9O1xuXG4gIGVxKCk7XG4gICQoIHdpbmRvdyApLnJlc2l6ZSggZXEgKTtcblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxSGVpZ2h0O1xuIiwidmFyIGltZyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgdmFyIGltYWdlcyA9ICQoIGNsYXNzTmFtZSApO1xuXG4gIHZhciBjcmVkaXRNYXJrdXAgPSBmdW5jdGlvbiggaW5mbywgY2xhc3NOYW1lICl7XG4gICAgdmFyIGNyZWRpdCA9ICcnO1xuICAgIGlmKCBpbmZvLmF1dGhvciAmJiBpbmZvLmF1dGhvci5sZW5ndGggKXtcbiAgICAgIGNyZWRpdCArPSAnPHNwYW4gY2xhc3M9XCInK2NsYXNzTmFtZSsnXCI+UGhvdG8gY3JlZGl0OiAnO1xuICAgICAgaWYoIGluZm8uc3JjLmxlbmd0aCApe1xuICAgICAgICBjcmVkaXQgKz0gJzxhIGhyZWY9XCInK2luZm8uc3JjKydcIj4nXG4gICAgICB9XG4gICAgICBjcmVkaXQgKz0gaW5mby5hdXRob3I7XG4gICAgICBpZiggaW5mby5zcmMubGVuZ3RoICl7XG4gICAgICAgIGNyZWRpdCArPSAnPC9hPidcbiAgICAgIH1cbiAgICAgIGNyZWRpdCArPSAnPC9zcGFuPic7XG4gICAgICByZXR1cm4gY3JlZGl0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgaW1hZ2VzLmVhY2goIGZ1bmN0aW9uKCBpICl7XG4gICAgdmFyIGltYWdlID0gJCh0aGlzKS5hdHRyKCAnZGF0YS1pbWcnICk7XG4gICAgaWYoICFpbWFnZS5sZW5ndGggKSByZXR1cm47XG4gICAgJC5nZXQoICcvd3AtanNvbi92MS9pbWFnZXMvJytpbWFnZSsnL2ZlYXRfbGcnLCBmdW5jdGlvbiggZGF0YSApe1xuXG4gICAgICAkKHRoaXMpLmF0dHIoICdkYXRhLWltZycsIGRhdGEub3JpZ2luYWwgKTtcblxuICAgICAgaWYoIHR5cGVvZiAkKHRoaXMpLmF0dHIoICdkYXRhLXNob3djcmVkaXQnICkgIT09ICd1bmRlZmluZWQnICl7XG4gICAgICAgICQodGhpcykuYXBwZW5kKCBjcmVkaXRNYXJrdXAoIGRhdGEuY3JlZGl0LCAncmVzcEltZy1jcmVkaXQnICkgKTtcbiAgICAgIH1cblxuICAgICAgLy8gb3B0cyBmb3IgZmVhdGhlcmxpZ2h0XG4gICAgICAvLyB2YXIgb3B0cyA9IHtcbiAgICAgIC8vICAgdGFyZ2V0QXR0cjogJ2RhdGEtaW1nJyxcbiAgICAgIC8vICAgYWZ0ZXJDb250ZW50OiBmdW5jdGlvbigpe1xuICAgICAgLy8gICAgIC8vIGNhbid0IHBhc3MgY2FwdGlvbnMgdGhyb3VnaCBmZWF0aGVybGlnaHQgc28gd2UgZG8gdGhpcyBpbnN0ZWFkXG4gICAgICAvLyAgICAgJCggJy5pbWctY2FwdGlvbicgKS5yZW1vdmUoKTtcbiAgICAgIC8vICAgICB2YXIgbGlnaHRib3ggPSAkKCAnLmZlYXRoZXJsaWdodC1jb250ZW50JyApO1xuICAgICAgLy8gICAgIHZhciBzcmMgPSAkKCAnLmZlYXRoZXJsaWdodC1pbWFnZScgKS5hdHRyKCAnc3JjJyApO1xuICAgICAgLy8gICAgIHZhciBjYXB0aW9uID0gJCggJ1tkYXRhLWltZz1cIicrc3JjKydcIl0nICkuYXR0ciggJ2RhdGEtY2FwdGlvbicgKSB8fCBkYXRhLmNhcHRpb24gfHwgZmFsc2U7XG4gICAgICAvLyAgICAgaWYoIGNhcHRpb24gKXtcbiAgICAgIC8vICAgICAgIHZhciBjcmVkaXQgPSAnJztcbiAgICAgIC8vICAgICAgIGlmKCBkYXRhLmNyZWRpdC5hdXRob3IubGVuZ3RoICl7XG4gICAgICAvLyAgICAgICAgIGNyZWRpdCA9IGNyZWRpdE1hcmt1cCggZGF0YS5jcmVkaXQsICdpbWctY3JlZGl0JyApO1xuICAgICAgLy8gICAgICAgfVxuICAgICAgLy8gICAgICAgbGlnaHRib3guYXBwZW5kKCAnPGRpdiBjbGFzcz1cImltZy1jYXB0aW9uXCI+JytjYXB0aW9uK2NyZWRpdCsnPC9kaXY+JyApO1xuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgICAvL3ByZXZlbnQgYm9keSBzY3JvbGxpbmdcbiAgICAgIC8vICAgICAkKCAnYm9keScgKS5jc3MoICdvdmVyZmxvdycsICdoaWRkZW4nICk7XG4gICAgICAvLyAgIH0sXG4gICAgICAvLyAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCl7XG4gICAgICAvLyAgICAgLy9yZXN0b3JlIGJvZHkgc2Nyb2xsaW5nXG4gICAgICAvLyAgICAgJCggJ2JvZHknICkuY3NzKCAnb3ZlcmZsb3cnLCAnJyApO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9O1xuICAgICAgLy9cbiAgICAgIC8vICQodGhpcykuZmVhdGhlcmxpZ2h0KCBvcHRzICk7XG5cbiAgICB9LmJpbmQodGhpcykgKTtcbiAgfSApO1xuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW1nO1xuIl19"}