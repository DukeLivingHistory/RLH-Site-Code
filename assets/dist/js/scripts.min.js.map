{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/src/js/app.js","assets/src/js/eqHeight.js","assets/src/js/img.js"],"names":[],"mappings":"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","file":"scripts.min.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var eqHeight = require('./eqHeight');\nvar img = require('./img');\n\n$( document ).ready( function(){\n\n  var initEqHeight = (function(){\n    if( $(window).width() < 768 ) return;\n    // eqHeight( '.js-eqHeight--featured', function(){\n    //   $( '.js-eqHeight--featured' ).addClass( 'post--loaded' );\n    // } );\n    eqHeight( '.js-eqHeight--roll', function(){\n      $( '.js-eqHeight--roll' ).addClass( 'post--loaded' );\n    } );\n    eqHeight( '.js-eqHeight--bucket'  );\n  })();\n\n  $(window).resize( initEqHeight );\n\n  var toggleNav = function( target ){\n    $( target ).toggleClass( target.slice(1) + '--expand' );\n  }\n\n  $( '.header-navToggle' ).click( function(){\n    toggleNav( '.header-navInner' );\n    toggleNav( '.header-navToggleButton' );\n    var label = $( '.header-navToggleLabel' );\n    label.text( label.text() === 'Menu' ? 'Close' : 'Menu' );\n  } );\n\n  $( '.researchMenu-toggle' ).click( function(){\n    toggleNav( '.researchMenu' );\n  } );\n\n  img( '.js-img' );\n\n} );\n","var eqHeight = function( target, cb ){\n  var height = 0;\n  var callback = cb || false;\n  var eq = function(){\n    height = 0;\n    $(target).css( 'height', '' );\n    $(target).each( function(){\n      var _height = $(this).height();\n\n      if( _height > height ) height = _height;\n\n      if( callback ) callback();\n    } );\n\n    $( target ).each( function(){\n      $(this).css( 'height', height );\n    } )\n  };\n\n  eq();\n  $( window ).resize( eq );\n\n}\n\nmodule.exports = eqHeight;\n","var img = function( className ){\n  var images = $( className );\n\n  var creditMarkup = function( info, className ){\n    var credit = '';\n    if( info.author && info.author.length ){\n      credit += '<span class=\"'+className+'\">Photo credit: ';\n      if( info.src.length ){\n        credit += '<a href=\"'+info.src+'\">'\n      }\n      credit += info.author;\n      if( info.src.length ){\n        credit += '</a>'\n      }\n      credit += '</span>';\n      return credit;\n    } else {\n      return '';\n    }\n  }\n\n  images.each( function( i ){\n    var image = $(this).attr( 'data-img' );\n    if( !image.length ) return;\n    $.get( '/wp-json/v1/images/'+image+'/feat_lg', function( data ){\n\n      $(this).attr( 'data-img', data.original );\n\n      if( typeof $(this).attr( 'data-showcredit' ) !== 'undefined' ){\n        $(this).append( creditMarkup( data.credit, 'respImg-credit' ) );\n      }\n\n      // opts for featherlight\n      // var opts = {\n      //   targetAttr: 'data-img',\n      //   afterContent: function(){\n      //     // can't pass captions through featherlight so we do this instead\n      //     $( '.img-caption' ).remove();\n      //     var lightbox = $( '.featherlight-content' );\n      //     var src = $( '.featherlight-image' ).attr( 'src' );\n      //     var caption = $( '[data-img=\"'+src+'\"]' ).attr( 'data-caption' ) || data.caption || false;\n      //     if( caption ){\n      //       var credit = '';\n      //       if( data.credit.author.length ){\n      //         credit = creditMarkup( data.credit, 'img-credit' );\n      //       }\n      //       lightbox.append( '<div class=\"img-caption\">'+caption+credit+'</div>' );\n      //     }\n      //     //prevent body scrolling\n      //     $( 'body' ).css( 'overflow', 'hidden' );\n      //   },\n      //   afterClose: function(){\n      //     //restore body scrolling\n      //     $( 'body' ).css( 'overflow', '' );\n      //   }\n      // };\n      //\n      // $(this).featherlight( opts );\n\n    }.bind(this) );\n  } );\n\n}\n\nmodule.exports = img;\n"]}