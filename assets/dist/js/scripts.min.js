(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var eqHeight = require('./eqHeight');
var img = require('./img');

$(document).ready(function () {

  var initEqHeight = function () {
    if ($(window).width() < 768) return;

    eqHeight('.js-eqHeight--roll', function () {
      $('.js-eqHeight--roll').addClass('post--loaded');
    });
    eqHeight('.js-eqHeight--bucket');
  }();

  $(window).resize(initEqHeight);

  var toggleNav = function toggleNav(target) {
    $(target).toggleClass(target.slice(1) + '--expand');
  };

  $('.header-navToggle').click(function () {
    toggleNav('.header-navInner');
    toggleNav('.header-navToggleButton');
    var label = $('.header-navToggleLabel');
    label.text(label.text() === 'Menu' ? 'Close' : 'Menu');
  });

  $('.researchMenu-toggle').click(function () {
    toggleNav('.researchMenu');
  });

  img('.js-img');
});

},{"./eqHeight":2,"./img":3}],2:[function(require,module,exports){
'use strict';

var eqHeight = function eqHeight(target, cb) {
  var height = 0;
  var callback = cb || false;
  var eq = function eq() {
    height = 0;
    $(target).css('height', '');
    $(target).each(function () {
      var _height = $(this).height();

      if (_height > height) height = _height;

      if (callback) callback();
    });

    $(target).each(function () {
      $(this).css('height', height);
    });
  };

  eq();
  $(window).resize(eq);
};

module.exports = eqHeight;

},{}],3:[function(require,module,exports){
'use strict';

var img = function img(className) {
  var images = $(className);

  var creditMarkup = function creditMarkup(info, className) {
    var credit = '';
    if (info.author && info.author.length) {
      credit += '<span class="' + className + '">Photo credit: ';
      if (info.src.length) {
        credit += '<a href="' + info.src + '">';
      }
      credit += info.author;
      if (info.src.length) {
        credit += '</a>';
      }
      credit += '</span>';
      return credit;
    } else {
      return '';
    }
  };

  images.each(function (i) {
    var image = $(this).attr('data-img');
    if (!image.length) return;
    $.get('/wp-json/v1/images/' + image + '/feat_lg', function (data) {

      $(this).attr('data-img', data.original);

      if (typeof $(this).attr('data-showcredit') !== 'undefined') {
        $(this).append(creditMarkup(data.credit, 'respImg-credit'));
      }
    }.bind(this));
  });
};

module.exports = img;

},{}]},{},[1])


//# sourceMappingURL=scripts.min.js.map
